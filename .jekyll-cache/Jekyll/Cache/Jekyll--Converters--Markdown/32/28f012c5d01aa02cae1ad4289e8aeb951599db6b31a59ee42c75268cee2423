I"ô3<h2 id="learning-goals">Learning Goals</h2>

<ul>
  <li>Understand some of the best practices for working collaboratively on software projects using Git and GitHub</li>
  <li>Learn to use GitHub‚Äôs tools to review and discuss code</li>
  <li>Use a variety of techniques to create, track, and manage issues, bugs, and features</li>
  <li>Clean up and condense commit history using <code class="highlighter-rouge">git rebase</code></li>
</ul>

<h2 id="structure">Structure</h2>

<h2 id="warm-up">Warm Up</h2>

<p>Start a public gist and make some notes about git-related issues you encountered in your recent projects. Answer the following questions:</p>

<ul>
  <li>Find an example commit from your Rush Hour project which was dealing
exclusively with a Git problem rather than a feature or bugfix (e.g.
‚ÄúFix merge commit‚Äù, ‚ÄúReally add file‚Ä¶‚Äù, ‚ÄúMerge master multiple times
in a row‚Äù, etc)</li>
  <li>What do you believe the root cause of some of these issues were?</li>
  <li>How did they impact your ability to work on the project?</li>
  <li>What solutions worked for you and your team?</li>
</ul>

<h2 id="ace-ventura-git-detective">Ace Ventura Git Detective</h2>

<p>Learning to search git for specific info is incredibly useful when you are working on large projects.</p>

<ol>
  <li>Clone down <a href="https://github.com/bundler/bundler">bundler</a>.</li>
  <li>Katrina Owen has one commit in the project. Find it.</li>
  <li>What change was made?</li>
  <li>Why? Read the article linked there.</li>
</ol>

<h4 id="hints">Hints</h4>

<p>Use the man page for git-log to figure out how to get the commit hash based on the author name.</p>

<p>Once you have the correct commit hash, use the man page for git-log to figure out how to look at the commit.</p>

<h2 id="github-efficiency-techniques">Github efficiency techniques</h2>

<p>As developers, we often use github as much as some of our other
development tools (editors, command-line-tools, etc). It‚Äôs worth
investing a little time in getting familiar with the interface so you
can navigate it more efficiently.</p>

<ul>
  <li>Github has a number of useful keyboard shortcuts to help you navigate through a repository. Use the <code class="highlighter-rouge">?</code> key to see all of the shortcuts available on a given page.</li>
  <li>On a repository view the <code class="highlighter-rouge">t</code> command brings up a ‚Äúfuzzy find‚Äù UI for
finding files easily.</li>
  <li>The <code class="highlighter-rouge">history</code> view for a given file allows you to see what commits
touched that file and in what order</li>
  <li>The <code class="highlighter-rouge">blame</code> view lets you see who last touched a given line in a file.</li>
  <li>When viewing a file, the <code class="highlighter-rouge">y</code> key lets you get the ‚Äúcanonical url‚Äù to
that file, which can be useful to link to the current state of a file
even if it changes in the future.</li>
  <li>Clicking line-numbers of a file in the file-view allows you to link to
a specific line or range of lines of that file. Useful for calling a
teammate‚Äôs attention to a specific chunk of code.</li>
</ul>

<p>Create a new gist. In this gist I want you to sumarize what github shorcuts you have available on different pages.
Pull up all the github shortcuts (hint: ?). In your gist include the shortcut, a description of what it does, and a practical example of when you may use that shortcut.</p>

<h2 id="github-issues-and-waffleio">Github Issues and Waffle.io</h2>

<p>Ultimately a Git workflow is just one part of your overall team
collaboration process. Git let‚Äôs you move project work into the final
source code, but deciding what to work on and when is also an important
part of the process.</p>

<p>Let‚Äôs briefly look at a process for doing this using Github Issues and
Waffle.io.</p>

<ul>
  <li>Issues are useful for stubbing out features and user stories. You can assign them and track progress towards a goal using milestones.</li>
  <li>In any file view, when you click one line or multiple lines by pressing SHIFT, the URL will change to reflect your selections. This is very handy for sharing the link to a chunk of code for discussion.</li>
  <li>If an issue involves a certain teammate, you can include their GitHub username (e.g. @stevekinney) and they‚Äôll be subscribed to that issue.</li>
  <li>In pull requests, issues or any comment, sha and issue number (#1 for example) will be automatically linked. Besides, you can link sha or issue number from another repository with the format of user/repo@sha1 or user/repo#1 respectively.</li>
</ul>

<h2 id="git-workflow">Git Workflow</h2>

<p>When working on a team, it‚Äôs important to have a workflow. The details of the workflow will vary from team to team and company to company, but it‚Äôs important that you have a workflow.</p>

<p>Below is GitHub‚Äôs workflow. Most teams will do something similar. Step 6 can vary.</p>

<ol>
  <li>Anything in the master branch is deployable</li>
  <li>To work on something new, create a descriptively named branch off of master (ie: new-oauth2-scopes)</li>
  <li>Commit to that branch locally and regularly push your work to the same named branch on the server</li>
  <li>When you need feedback or help, or you think the branch is ready for merging, open a pull request</li>
  <li>After someone else has reviewed and signed off on the feature, you can merge it into master</li>
  <li>Once it is merged and pushed to ‚Äòmaster‚Äô, you can and should deploy immediately</li>
</ol>

<p>It‚Äôs useful to think of branches like Ruby methods: they should be small, have descriptive names and implement a single feature. Use branches for the small features that you can implement quickly.</p>

<p>When your feature is complete, don‚Äôt just merge it into master‚Äîsubmit a pull request and let someone from your team review your code.</p>

<p><a href="https://gist.github.com/erinnachen/1f802734671d9db5c452">Here is a detialed step-by-step checklist for workflow, by Erinna Chen</a></p>

<h2 id="github-and-code-reviews">Github and Code Reviews</h2>

<p>Having your code reviewed gives you confidence that your code is clear, that it runs on someone else‚Äôs machine, and that it‚Äôs not accidently causing an error somewhere else in the application. It‚Äôs also an opportunity to allow a mentor to review the code you‚Äôre writing and give you advice.</p>

<p>Reviewing a teammate‚Äôs code allows you to be familiar with parts of the codebase that you may not have touched. It also provides context for how the code your writing in your branch fits into the larger app.</p>

<p>Tools for conducting a code review:</p>

<ul>
  <li>Line comments on Github</li>
  <li>Discussion in Github Issues and Waffle.io</li>
</ul>

<p><strong>WIP Pull Request:</strong> A pull request isn‚Äôt the final word. You can always add to it based on feedback, so it can be a useful collaboration tool for code that‚Äôs still ‚Äúunder development.‚Äù Many teams will call this a ‚ÄúWIP‚Äù PR and sometimes will mark it with a special label (to make sure it doesn‚Äôt accidentally get merged).</p>

<h2 id="activity-conflict-resolution">Activity: Conflict Resolution</h2>

<p>In pairs assign one person the role of <code class="highlighter-rouge">Person 1</code> and the other <code class="highlighter-rouge">Person 2</code>.</p>

<ol>
  <li>
    <p>Person 1: Create a repo on Github with a README. Add Person 2 as a Collaborator.</p>
  </li>
  <li>
    <p>Person 1: Add the project to waffle.io</p>
  </li>
  <li>
    <p>Person 1: Add 2 issues to your waffleboard, one for Person 1, the other for Person 2.</p>
  </li>
  <li>
    <p>Both: checkout a unique branch.</p>
  </li>
</ol>

<p>Example:</p>

<p><code class="highlighter-rouge">git checkout -b person_1_changes_stuff</code></p>

<p><code class="highlighter-rouge">git checkout -b person_2_changes_things</code></p>

<ol>
  <li>
    <p>Both: Make changes to the same line in the README in both repos.</p>
  </li>
  <li>
    <p>Person 1: Push your branch and open a PR.</p>
  </li>
  <li>
    <p>Person 2: Merge the PR and close the issue assigned to Person 1 via a commit message.
  <a href="https://help.github.com/articles/closing-issues-via-commit-messages/">halp?</a></p>
  </li>
  <li>Person 2: Push your branch and open a PR.
    <ul>
      <li>Notice that we can‚Äôt merge it automatically</li>
      <li>We need to fix it locally first</li>
    </ul>
  </li>
  <li>
    <p>Person 2: checkout the master branch.</p>
  </li>
  <li>
    <p>Person 2: Pull from master on Github.</p>
  </li>
  <li>
    <p>Person 2: Checkout the branch you have an open PR for.</p>
  </li>
  <li>Person 2: Merge master into your current branch.
    <ul>
      <li>This should throw an error
  CONFLICT (content): Merge conflict in sample.txt
Automatic merge failed; fix conflicts and then commit the result.</li>
    </ul>
  </li>
  <li>
    <p>Person 2: Open the file it says the conflict occurs in. You can see it if you run git status</p>
  </li>
  <li>Person 2: You see something that looks like this:</li>
</ol>

<pre><code class="language-git">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Person 2 adds a line!
=======
Person 1 Adds a line!
&gt;&gt;&gt;&gt;&gt;&gt;&gt; master
</code></pre>
<ol>
  <li>Person 2: Update the line to look the way you want it to look.
    <ul>
      <li>Remove the <code class="highlighter-rouge">&lt;&lt;&lt;&lt; HEAD</code>, <code class="highlighter-rouge">=======</code>, and <code class="highlighter-rouge">&gt;&gt;&gt;&gt; master</code> lines</li>
    </ul>
  </li>
  <li>Person 2: running git status tells you how to mark the conflict as resolved
    <ul>
      <li>After resolving and running git status you will see a <code class="highlighter-rouge">Changes to be committed</code> message.</li>
    </ul>
  </li>
  <li>
    <p>Person 2: Commit the resolved changes</p>
  </li>
  <li>
    <p>Person 2: Push the changes to your branch on Github.</p>
  </li>
  <li>Reload the pull request
    <ul>
      <li>It should now be able to be merged in automatically.</li>
      <li>You should also see the commit that merged the two changes</li>
    </ul>
  </li>
  <li>Person 1: Merge the PR and close the issue via your commit message.
  <a href="https://help.github.com/articles/closing-issues-via-commit-messages/">halp?</a></li>
</ol>

<h2 id="full-group-instruction-git-rebase">Full Group Instruction: Git Rebase</h2>

<p><code class="highlighter-rouge">git rebase</code> allows you to easily change a series of commits, modifying the history of your repository.</p>

<p>Because changing your commit history can make things difficult for everyone else using the repository, it‚Äôs considered bad practice to rebase commits when you‚Äôve already pushed to a repository.</p>

<p>You can rebase against another branch using <code class="highlighter-rouge">git rebase -i &lt;other_branch_name&gt;</code>.</p>

<p>You can also rebase against another point in time:</p>

<ul>
  <li><code class="highlighter-rouge">git rebase -i commit_sha</code></li>
  <li><code class="highlighter-rouge">git rebase -i HEAD^</code></li>
  <li><code class="highlighter-rouge">git rebase -i HEAD~7</code></li>
</ul>

<p>The caret stands for one commit back from <code class="highlighter-rouge">HEAD</code>. You can use multiple carets (e.g. <code class="highlighter-rouge">HEAD^^^^^</code>) or you can specify the number of commits back you want to rebase from using <code class="highlighter-rouge">~</code>.</p>

<p>The <code class="highlighter-rouge">-i</code> flag stands for ‚Äúinteractive mode‚Äù.</p>

<p>When rebasing, you‚Äôll have the ability to combine (‚Äúsquash‚Äù) and reword commits.</p>

<h2 id="independent-practice-git-rebasing">Independent Practice: Git Rebasing</h2>

<p>Create a branch on a repository and make a few commits.</p>

<ol>
  <li>Use <code class="highlighter-rouge">git rebase -i master</code> to squash all of the commits into one.</li>
  <li>Use <code class="highlighter-rouge">git rebase -i master</code> to reword that commit.</li>
</ol>

<h2 id="group-workflow-discussion">Group Workflow Discussion</h2>

<p>In your project groups, discuss your current workflow, its pain points, and what you‚Äôd like to improve. Come up with the procedures for conducting code reviews before merging into master.</p>

<h2 id="wrap-up">Wrap Up</h2>

<p>Each group shares details about the workflow they plan on executing for The Pivot project.</p>

<p>Individually, revisit your Gist from earlier:</p>

<ul>
  <li>What strategies could you use to avoid some of the workflow issues you faced earlier?</li>
  <li>What is one strategy you want to use with your group today?</li>
</ul>

<h2 id="notes--corrections--improvements-for-next-time">Notes / Corrections &amp; Improvements for Next Time</h2>

<ul>
  <li>this lesson is a slightly tweaked extraction of a similar lesson
originally delivered in <a href="https://github.com/turingschool/lesson_plans/blob/master/ruby_03-professional_rails_applications/revisiting_git_workflows.markdown">module
3</a>.
Since I wanted to tweak some of the project-specific language I decided
to make a duplicate rather than mess with the original. - Horace</li>
</ul>

:ET
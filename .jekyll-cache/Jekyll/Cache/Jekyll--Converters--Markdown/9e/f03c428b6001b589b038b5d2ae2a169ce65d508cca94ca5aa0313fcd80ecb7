I"ƒ<h2 id="learning-goals">Learning Goals</h2>

<ul>
  <li>Review SQL concepts from intermission work</li>
  <li>Practice writing SQL queries in a familiar database</li>
</ul>

<h2 id="warmup">Warmup</h2>

<ul>
  <li>How do you determine which columns will be returned from a SQL query?</li>
  <li>What else do you remember from your SQL prework?</li>
</ul>

<h2 id="lesson">Lesson</h2>

<h3 id="setup">Setup</h3>
<p>This activity relies on a pre-created database. Make sure you have created and seeded the database from your little-shop-redux. If you do not have a little-shop-redux, you can pull down a completed version <a href="https://github.com/kolyaventuri/little-shop-redux/tree/d14150d9b0e004db6057b42f2b3c933723f996cc">here</a>.</p>

<p>Enter <code class="highlighter-rouge">psql</code> from your terminal. This should drop you into an interactive postgres session where you can run SQL commands from the terminal.</p>

<p>Note: If you get an error that says something like <code class="highlighter-rouge">Database username "YOUR_NAME" does not exist.</code> you will need to create a database that shares the username. Run <code class="highlighter-rouge">createdb "YOUR_NAME"</code> and re-run psql.</p>

<p>The first thing you will see is a helpful note to enter <code class="highlighter-rouge">help</code> if you need some more information about how to use this interactive session. <code class="highlighter-rouge">\?</code> will provide you with some terminal specific commands, while <code class="highlighter-rouge">\h</code> will provide you with a list of SQL commands that offer additional documentation.</p>

<p>In order to interact with our LittleShop database, weâ€™ll first need to connect to it. How do we know it exists or what itâ€™s named? First type <code class="highlighter-rouge">\list</code>. This will provide you with a list of databases avaialble to you.</p>

<p>In order to connect to our database, type <code class="highlighter-rouge">\c little-shop-development</code> (or whatever <code class="highlighter-rouge">\list</code> tells you your database is called). Now you should be able to run SQL commands.</p>

<p>When youâ€™re ready to disconnect type <code class="highlighter-rouge">\q</code></p>

<h3 id="practice">Practice</h3>

<p>With a partner, see if you can complete each of the tasks below. After each section we will check in as a group.</p>

<h4 id="select-from-limit">SELECT FROM LIMIT</h4>

<ul>
  <li>All of the information on the <code class="highlighter-rouge">merchants</code> table.</li>
  <li><code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">merchant_id</code>, and <code class="highlighter-rouge">description</code> of five items.</li>
</ul>

<h4 id="where">WHERE</h4>

<ul>
  <li>Items that have a merchant with an id of 12334284.</li>
  <li>Items that have a <code class="highlighter-rouge">price</code> of 800.</li>
  <li>id, price, and description for items more expensive than 800.</li>
</ul>

<h4 id="aggregate-functions">Aggregate Functions</h4>
<p>(Complete these without using Order)</p>

<ul>
  <li>Max, and min price from the <code class="highlighter-rouge">items</code> table.</li>
  <li>Average price for all items.</li>
  <li>Id, merchant id, and description of the most expensive item.</li>
  <li>Id, merchant id, and description of the least expensive item.</li>
  <li>Count of items created after 1993-09-29.</li>
  <li>All information about the oldest Merchant.</li>
  <li>All information about the newest Merchant.</li>
</ul>

<h4 id="join">JOIN</h4>

<ul>
  <li>Highest items <code class="highlighter-rouge">price</code> for merchant with id of 12334284.</li>
  <li>Average items <code class="highlighter-rouge">price</code> for merchant with id of 12334284.</li>
</ul>

<h4 id="group">GROUP</h4>

<ul>
  <li>Count of items for each merchant.</li>
  <li>Total price of all items for each merchant.</li>
  <li>Total income for each merchant.</li>
</ul>

<h4 id="order">ORDER</h4>

<ul>
  <li>Name of the merchant with the most items.</li>
  <li>Top five merchants with the most invoices.</li>
  <li>Top 10 most expensive items.</li>
  <li>Least prolific merchant (by item count).</li>
  <li><code class="highlighter-rouge">name</code> for the five merchants with the most items.</li>
</ul>

<h4 id="extensions">Extensions</h4>

<ul>
  <li>Total of each invoice for each merchant.</li>
  <li>Merchant ID and Invoice ID for the top 5 least expensive invoices.</li>
  <li>Merchant ID and Invoice ID for the top 5 most expensive invoices.</li>
</ul>

<h2 id="additional-resources">Additional Resources</h2>

<ol>
  <li><a href="http://tutorials.jumpstartlab.com/topics/sql/fundamental_sql.html">Fundamental SQL</a> (review from intermission work)</li>
  <li><a href="http://sql-by-repetition.herokuapp.com/">SQL by repetition</a></li>
  <li><a href="https://github.com/turingschool/lesson_plans/blob/master/ruby_03-professional_rails_applications/intermediate_sql.md">Intermediate SQL</a></li>
</ol>
:ET
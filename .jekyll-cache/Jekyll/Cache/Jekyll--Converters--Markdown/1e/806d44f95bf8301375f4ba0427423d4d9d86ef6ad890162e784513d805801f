I"j<h3 id="resources">Resources</h3>
<p><a href="https://www.dropbox.com/sh/5ivjdaqg4lgix6v/AAApF1jJsbXHgXVkwPeTW8uBa/ActiveRecord%20Relationships.key?dl=0">Keynote Slides</a></p>

<h3 id="learning-goals">Learning Goals</h3>
<ul>
  <li>One to one</li>
  <li>Many to many</li>
  <li>Has many through</li>
  <li>Polymorphic</li>
</ul>

<h3 id="workshop">Workshop</h3>
<p>Use <a href="https://github.com/turingschool-examples/storedom">Storedom</a></p>

<ol>
  <li>Create a Photo (with just a URL) which can attach to either a user or an item (polymorphic)</li>
  <li>Implement a one-to-one with a Login class and a Customer class</li>
  <li>Implement a many-to-many with has_many :through using items and categories</li>
</ol>

<h4 id="instructor-solutions-cheatsheet">Instructor Solutions Cheatsheet</h4>

<p>Code <a href="https://github.com/turingschool-examples/storedom/tree/revisiting_active_record_relationships_r3">sample branch</a>. There are three commits associated with this exercise: 4aaae57, 92c9a09, 982528b</p>

<ol>
  <li><code class="highlighter-rouge">rails g scaffold photograph url:string photographable:references{polymorphic}</code></li>
</ol>

<p>Add <code class="highlighter-rouge">has_one :photograph, as: :photographable</code> to <code class="highlighter-rouge">Item</code> and <code class="highlighter-rouge">User</code></p>

<p>You should be able to run the following:</p>
<ul>
  <li><code class="highlighter-rouge">user.create_photograph(url: url)</code></li>
  <li><code class="highlighter-rouge">item.create_photograph(url: url)</code></li>
  <li><code class="highlighter-rouge">user.photograph.url</code>, <code class="highlighter-rouge">item.photograph.url</code></li>
</ul>

<ol>
  <li><code class="highlighter-rouge">rails g scaffold customer name:string</code> and <code class="highlighter-rouge">rails g scaffold login name:string customer:belongs_to</code>
    <ul>
      <li>Add <code class="highlighter-rouge">has_one :login</code> to <code class="highlighter-rouge">Customer</code></li>
      <li>Should be able to run:</li>
    </ul>
    <ul>
      <li><code class="highlighter-rouge">customer = Customer.create(name:"Josh Mejia")</code></li>
      <li><code class="highlighter-rouge">customer.create_login(name: 'jmejia')</code></li>
      <li><code class="highlighter-rouge">customer.login.name</code></li>
      <li><code class="highlighter-rouge">login = Login.last</code></li>
      <li><code class="highlighter-rouge">login.customer.name</code></li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">rails g scaffold category name:string</code> and <code class="highlighter-rouge">rails g model categorization item_id:integer category_id:integer</code>
    <ul>
      <li>Add the following code:</li>
    </ul>
    <ul>
      <li><code class="highlighter-rouge">belongs_to :item</code> and <code class="highlighter-rouge">belongs_to :category</code> to <code class="highlighter-rouge">Categorization</code></li>
      <li><code class="highlighter-rouge">has_many :categorizations</code> and <code class="highlighter-rouge">has_many :categories, :through =&gt; :categorizations</code> to <code class="highlighter-rouge">Item</code></li>
      <li><code class="highlighter-rouge">has_many :categorizations</code> and <code class="highlighter-rouge">has_many :items, :through =&gt; :categorizations</code> to <code class="highlighter-rouge">Category</code></li>
    </ul>
  </li>
</ol>

<ul>
  <li>You should be able to run:
    <ul>
      <li><code class="highlighter-rouge">category = Category.create(name: 'Food')</code></li>
      <li><code class="highlighter-rouge">item = Item.last</code></li>
      <li><code class="highlighter-rouge">item.categories &lt;&lt; category</code></li>
      <li><code class="highlighter-rouge">category_2 = Category.create(name: 'clothing')</code></li>
      <li><code class="highlighter-rouge">category_2.items &lt;&lt; item</code></li>
    </ul>
  </li>
</ul>

:ET
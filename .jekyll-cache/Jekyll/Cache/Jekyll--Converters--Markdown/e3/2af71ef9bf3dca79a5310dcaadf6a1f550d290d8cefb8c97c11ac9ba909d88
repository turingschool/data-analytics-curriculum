I"ú<h3 id="learning-goals">Learning Goals</h3>
<ul>
  <li>Understand the role of an Object Relational Mapper (ORM)</li>
  <li>Have a general idea of the process of replacing YAML::Store with SQLite</li>
  <li>Learn how to rely on a test suite while refactoring</li>
  <li>Use errors and stacktraces to guide development</li>
  <li>Introduce the concept behind migrations &amp; the importance of separating table alterations</li>
  <li>The vulnerabilities to a test suite when expecting specific IDs</li>
</ul>

<hr />

<h2 id="structure">Structure</h2>

<ul>
  <li>Overview of topic</li>
  <li>Code along or Tutorial</li>
  <li>Recap</li>
</ul>

<hr />

<p><a href="https://www.dropbox.com/s/39s8xi31hbq3ics/yaml_to_sql.pdf?dl=0">Slides</a></p>

<hr />

<h2 id="warmup">Warmup</h2>

<p>With a partner, discuss the following questions:</p>

<ol>
  <li>How do you create a table in SQL?</li>
  <li>What are some advantages/disadvantages of storing our data in YAML or simply a hash or array?</li>
</ol>

<hr />

<h2 id="relational-databases">Relational Databases</h2>
<p>Database systems are helpful when handling massive datasets by helping to optimize complicated queries. Relational databases make it easy to relate tables to one another.</p>

<p>For example, if we have a table of songs and artists, and a song belongs to one artist, we‚Äôll need to keep track of how these pieces of data relate to one another. There‚Äôs no easy way to query a YAML file for this info.</p>

<hr />

<h2 id="object-relational-mappers">Object Relational Mappers</h2>
<p>‚ÄúAn ORM framework is written in an object oriented language (like Ruby, Python, PHP etc.) and wrapped around a relational database. The object classes are mapped to the data tables in the database and the object instances are mapped to rows in those tables.‚Äù</p>

<p>(from sitepoint.com)</p>

<hr />

<p><img src="http://wiki.expertiza.ncsu.edu/images/2/2c/ORM_Flowchart.jpg" alt="400% ORM Diagram" /></p>

<hr />

<h2 id="ruby-orms">Ruby ORM‚Äôs</h2>
<ul>
  <li>ActiveRecord (lots)</li>
  <li>DataMapper (a few)</li>
  <li>Sequel (pretty much none)</li>
</ul>

<hr />

<h2 id="why-do-we-need-an-orm">Why do we need an ORM?</h2>

<p>We want to wrap our data in Ruby objects so we can easily manipuate them. If we didn‚Äôt wrap them in Ruby objects, we‚Äôd simply have strings in arrays and other simple data types. This wouldn‚Äôt be very easy to work with or manage.</p>

<hr />

<h2 id="how-does-a-database-map-to-a-ruby-class">How does a database map to a Ruby class?</h2>

<ul>
  <li>the table represents the collection of instances</li>
  <li>a row represents one specific instance</li>
  <li>the columns represent the attributes of an instance</li>
</ul>

<hr />

<h2 id="from-yaml-to-sqlite3">From YAML to SQLite3</h2>
<p>We‚Äôre going to take TaskManager and convert our database storage from YAML::Store into SQLite3. We could use ActiveRecord, DataMapper, or Sequel, but that would be too easy. Before we use these tools that exist, we are going to build an ORM ourselves.</p>

<hr />

<h2 id="yaml---sqlite">YAML -&gt; SQLite</h2>

<p>How do we know as we make changes if we‚Äôve broken things?</p>

<p>Let‚Äôs pause to take a look at our tests. Are they relying on data being in a specific order or id‚Äôs being specific?</p>

<hr />

<h3 id="its-your-turn">It‚Äôs <strong>YOUR</strong> turn!</h3>

<p>Follow the this <a href="https://github.com/s-espinosa/yaml_to_sql/blob/master/tutorial.md">tutorial</a> to transform our <code class="highlighter-rouge">TaskManager</code> to store our data in a SQLite database rather than YAML::Store. Reminders - ask questions, read carefully, we‚Äôll recap at the end!</p>

<hr />

<h2 id="homeworkworktime">Homework/Worktime</h2>
<p>Transform Skill Inventory or Robot World to store your data in a SQLite3 database instead of YAML.</p>

<hr />

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://www.sitepoint.com/orm-ruby-introduction/">ORM Ruby Introduction</a></li>
  <li><a href="http://guides.rubyonrails.org/active_record_basics.html">ActiveRecord Documentation</a></li>
  <li><a href="http://datamapper.org/">DataMapper Documentation</a></li>
  <li><a href="http://sequel.jeremyevans.net/">Sequel Documentation</a></li>
</ul>

:ET
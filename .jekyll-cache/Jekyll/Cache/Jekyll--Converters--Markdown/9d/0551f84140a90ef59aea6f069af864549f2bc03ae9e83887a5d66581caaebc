I"S<h2 id="standards">Standards</h2>

<h2 id="structure">Structure</h2>

<ul>
  <li>30 minutes – Discuss the 4 techniques listed below</li>
  <li>30 minutes – Students independently work on Erroneous Creatures exercise</li>
</ul>

<h2 id="tools">Tools</h2>

<ul>
  <li><a href="https://github.com/pry/pry">pry</a> - <code class="highlighter-rouge">gem install pry</code></li>
  <li><a href="https://github.com/ggreer/the_silver_searcher">ag</a> - <code class="highlighter-rouge">brew install ag</code></li>
</ul>

<h2 id="lesson">Lesson</h2>

<h3 id="1-get-feedback">1. Get Feedback</h3>

<ul>
  <li>TDD</li>
  <li>Pry</li>
  <li>Pace your progress with your <strong>feedback</strong></li>
  <li>It’s easy to get in the mindset of “let me just try this 1 more thing” – don’t make blind
stabs in the dark.</li>
  <li>Use your tools to get meaningful feedback to guide each change.</li>
</ul>

<h3 id="2-verify-assumptions">2. Verify Assumptions</h3>

<p>The most common errors students run into result not from doing something bad,
but from doing a <em>right</em> thing to the wrong type of object.</p>

<p>This is usually a case of invalid assumptions. I thought I had a string but I
actually have an integer. I thought I had an Array of Hashes but I actually have
an Array of Arrays. I thought I had a Pizza but I actually had a ball of Pizza Dough.</p>

<p>To avoid this we need to be extremely disciplined about verifying all of the implicit
assumptions throughout our code.</p>

<p><strong>How do we verify assumptions?</strong></p>

<ul>
  <li><strong>Tests</strong> - Diligent tests that cover the input and output for every method
will go a long way to avoid this type of problem.</li>
  <li><strong>Pry</strong> - When you run into a seemingly mysterious error, one of your first
reactions should be to pry into the context of the error and check the class of
every object. You may find some surprises.</li>
</ul>

<h3 id="3-read-stack-traces">3. Read Stack Traces</h3>

<p>Say it again:</p>

<p><strong>Read Stack Traces</strong></p>

<p>Once more, with feeling:</p>

<p><strong>Read Stack Traces</strong></p>

<ul>
  <li>Stack Traces – list all lines of code touched along the path to an exception</li>
  <li>Tell us what the error was and how we got there</li>
  <li>Gives us a file name and line of code to look in</li>
</ul>

<h4 id="how-to-use-a-stack-trace">How to use a Stack Trace</h4>

<ol>
  <li>Look for the “top” or “end” of the trace – generally the error will be one
of the last things that happened (since errors halt execution), so we want to
focus on the most recent lines of our trace, since this is usually where we’ll find the problem</li>
  <li>Look for lines referencing <strong>our</strong> code. Your average stack trace usually includes
lots of lines that pass through code that isn’t ours (ruby internals, gems we’re using, etc).
Usually it’s our code that is the problem, so try to zero in on those lines.</li>
  <li>Read the error message 2 times before you go do anything</li>
  <li>Focus on 2 things: What did we try to do? and To what did we try to do it?</li>
</ol>

<p>For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NoMethodError: undefined method `+' for nil:NilClass
</code></pre></div></div>

<p>A diligent reading of this error message will tell me 2 things
off the bat:</p>

<ol>
  <li>we tried to add something to an object</li>
  <li>that object was <code class="highlighter-rouge">nil</code>, which does not support adding to it</li>
</ol>

<p>This information, in combination with the line number where the error
occurred, allows me to go directly to that place in the file
and start looking for anywhere I’m adding 2 things. Likely one
of them will turn out to be <code class="highlighter-rouge">nil</code>.</p>

<p>Using the stack trace effectively allows me to go directly
to the source of the problem, as opposed to reading random lines
of code hoping that the problem will jump out at me.</p>

<h3 id="4-tracing-values-through-code">4. Tracing Values Through Code</h3>

<p>This is often the next step after we’ve “diagnosed” one
of the problems above.</p>

<p>For example, I had an <strong>assumption</strong> about one of my objects –
that it would be an Array of hashes each containing a key of <code class="highlighter-rouge">:name</code>.</p>

<p>Thanks to an error message and some pry-poking, I conclude that this
assumption is incorrect – my object is actually an Array of strings,
and thus doesn’t work correctly in the context I’m trying to use it.</p>

<p>My next step is to figure out <strong>how</strong> did the object end up in
this state. This requires a bit of mental exercise to trace the
object through the path it followed before it reached the site of
the error.</p>

<p>I sometimes think of this as filling in a mental “checklist” –
start from the location of your error and work backwards through
each line that touched your object before it got there.</p>

<p>At each line, ask yourself: “What is the type of the object at this
point and what is its value?”</p>

<p>More often than not this process will lead you to a point where
the mistake is obvious – “Oh darn I accidentally turned each hash
into a string at this line…”, etc.</p>

<h2 id="exercise---erroneous-creatures">Exercise - Erroneous Creatures</h2>

<p>Let’s get some practice using these techniques.
Clone this <a href="https://github.com/turingschool-examples/erroneous_creatures">Erroneous Creatures</a>
repository.</p>

<p>It contains some implementations of the Mythical Creatures exercises
that are riddled with small bugs.</p>

<p>Use the debugging techniques discussed above to diagnose and fix the
bugs, and get your creatures back to passing.</p>

<h3 id="addenda--more-material">Addenda / More Material</h3>

<ul>
  <li>http://tutorials.jumpstartlab.com/topics/debugging/debugging.html</li>
</ul>
:ET
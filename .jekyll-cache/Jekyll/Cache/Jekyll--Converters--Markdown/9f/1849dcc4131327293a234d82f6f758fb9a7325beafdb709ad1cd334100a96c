I"N<h3 id="csv-walkthrough">CSV Walkthrough</h3>

<p>In Ruby, there are classes already defined for us that will allow us to read and write files. Today we are going to focus on the <code class="highlighter-rouge">CSV</code> class and how to read a file to create instances of our objects. We will be using <a href="https://github.com/turingschool-examples/csv_example">this repo</a> as an example. Take a moment to look at the files and what they contain.</p>

<p>The <code class="highlighter-rouge">runner.rb</code> is where we will be writing out code to read our files and create objects. To start
we are going to <code class="highlighter-rouge">require 'CSV'</code> so that we will have access to its methods. Next, we want to use the <code class="highlighter-rouge">foreach</code> method from <code class="highlighter-rouge">CSV</code> and pass it an argument of the file that we want to read. Similar to the <code class="highlighter-rouge">each</code> enumerable the <code class="highlighter-rouge">foreach</code> creates a block where the block variable will be a single row in the file. Now add a <code class="highlighter-rouge">pry</code> within the block so we can see what a row looks like in our block.</p>

<pre><code class="language-Ruby">require 'CSV'

CSV.foreach('./data/animal_lovers.csv') do |row|
  require 'pry'; binding.pry
end
</code></pre>

<p>Congrats, you are reading a csv! Since, we know we have access to the information in the file a row at a time we now just need to create objects using that information. As you noticed our first row is the headers row and doesn’t contain any data to create an object. Let’s update the <code class="highlighter-rouge">foreach</code> arguments to include the following:</p>

<pre><code class="language-Ruby">require 'CSV'
# headers: true &amp; header_converter: :symbol are optional arguments
CSV.foreach('./data/animal_lovers.csv', headers: true, header_converters: :symbol) do |row|
  require 'pry'; binding.pry
end
</code></pre>

<p>Now what does <code class="highlighter-rouge">row</code> look like in <code class="highlighter-rouge">pry</code>?</p>

<p>These optional arguments help format the row information to be more manageable to work with so that you can create new objects. Now let’s create an instance of the <code class="highlighter-rouge">Animal Lovers</code> class from our data.</p>

<p>With a partner see if you can explain what is happening in the code below and use <code class="highlighter-rouge">pry</code> to confirm your assumptions.</p>

<pre><code class="language-Ruby">require 'CSV'
require './lib/animal_lover'
# headers: true &amp; header_converter: :symbol are optional arguments
CSV.foreach('./data/animal_lovers.csv', headers: true, header_converters: :symbol) do |row|
  id = row[:id].to_i
  first_name = row[:first_name]
  last_name = row[:last_name]
  age = row[:age].to_i
  animal_lover = AnimalLover.new(id,first_name,last_name,age)

  require 'pry'; binding.pry

  puts "#{animal_lover.full_name} has been created!"
end
</code></pre>

<h3 id="practice">Practice</h3>

<p>On your own, try reading the file and creating magical pet objects.</p>
:ET
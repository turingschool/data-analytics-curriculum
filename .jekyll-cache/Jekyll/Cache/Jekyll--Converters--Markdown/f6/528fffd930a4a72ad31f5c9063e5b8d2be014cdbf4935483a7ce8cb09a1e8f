I"y(<p>Some content shared from <a href="https://github.com/turingschool/front-end-curriculum/blob/6b5b565c409c769e297fac720cc6aca92ee9f2d3/lessons/module-3/merge-vs-rebase.md">the front-end program</a></p>

<h2 id="learning-goals">Learning Goals</h2>

<ul>
  <li>Understand the difference between merge and rebase workflows</li>
  <li>Explain when and when not to rebase</li>
  <li>Identify pros and cons of each method</li>
</ul>

<h2 id="vocabuarly">Vocabuarly</h2>
<ul>
  <li>git log</li>
  <li>commit</li>
  <li>merge</li>
  <li>rebase</li>
</ul>

<h2 id="warmup">WarmUp</h2>
<ul>
  <li>What is the flow of commands to create a git repository locally and save your work?</li>
  <li>Assume you’re working on a project with a group. You are finishing work on a feature branch. A partner has merged their branch into master on GitHub. What should be your work flow for getting your work into master?</li>
  <li>Draw a branching diagram to illustrate this process.</li>
</ul>

<h2 id="the-git-merge-branch-workflow">The Git Merge Branch Workflow</h2>

<p>We’re all familiar with the most common git workflow:</p>

<ol>
  <li>create a feature branch</li>
  <li>commit your work</li>
  <li>pull master into your branch</li>
  <li>fix any merge conflicts</li>
  <li>push your branch to GitHub</li>
  <li>make a pull request</li>
  <li>partner merges your work into master</li>
  <li>locally switch to master</li>
  <li>pull updated master into your local master</li>
</ol>

<h3 id="review">Review</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># find an awesome repo, fork it to your own GitHub user account, clone that repo:</span>
<span class="nv">$ </span>git clone git@github.com:your_username/some-awesome-repo

<span class="nv">$ </span>git checkout <span class="nt">-b</span> new-branch
<span class="c"># do some work</span>
<span class="nv">$ </span>git add new_file.rb
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"here is my new awesome work"</span>
<span class="nv">$ </span>git pull origin master
<span class="nv">$ </span>git push origin new-branch

<span class="c"># visit github.com/your_username/some-awesome-repo</span>
<span class="c"># create a pull request</span>
<span class="c"># merge the code</span>

<span class="nv">$ </span>git checkout master
<span class="c"># fetch master and download new changes</span>
<span class="nv">$ </span>git pull master
</code></pre></div></div>

<h2 id="whiteboard-diagram">Whiteboard diagram</h2>

<h3 id="git-log">Git Log</h3>

<p>Your git log will look something like this:</p>

<ul>
  <li>Merge pull request #76 from your_username/new-branch</li>
  <li>here is my new awesome work</li>
  <li>Merge pull request #75 from your_username/some-old-branch</li>
  <li>…</li>
</ul>

<p><img src="../misc/images/git_log.png" alt="git log" /></p>

<h3 id="advantages">Advantages</h3>

<ul>
  <li>This is a great workflow if you want to see a branch history in your git log. You can view the “network” of your
git history on GitHub using a URL like this:
    <ul>
      <li>https://github.com/your-username/your-repo-name/<strong>network</strong></li>
    </ul>
  </li>
</ul>

<p><img src="../misc/images/merge_network_diagram.png" alt="GitHub Network Tab" /></p>

<ul>
  <li>This method of merging works great in solo and pairing projects.</li>
</ul>

<h3 id="disadvantages">Disadvantages</h3>

<ul>
  <li>A simple review of <code class="highlighter-rouge">git log</code> will be difficult to see what happened and when, commits will be all mashed together
across branches.</li>
  <li>You’ll need to “pull” or “merge” master into your branch frequently to resolve merge conflicts as they come up.</li>
</ul>

<h2 id="git-workflow-rebase">Git Workflow: Rebase</h2>

<p>Some tech companies want a much cleaner commit log. Using <code class="highlighter-rouge">git rebase</code> allows us to see a more streamlined
history of the commits without the branching.</p>

<h3 id="overview">Overview</h3>

<p>Rebasing will effectively rebuild your branch’s commit history with a new starting point from your master branch. You
should <code class="highlighter-rouge">git rebase</code> often to minimize merge conflicts along the way.</p>

<p>Doing a <code class="highlighter-rouge">git rebase</code> will have to step through every single commit you’ve made on your <strong>feature</strong> branch, one at a
time, and see if it’s possible to apply it on top of the <strong>master</strong> branch. Squashing your commits may make this
process easier.</p>

<h3 id="advantages-1">Advantages</h3>

<ul>
  <li>Avoids auto-generated commits of pulling/merging master into your feature branch or merging your branch into master</li>
  <li>History appears cleaner. All of the new work you’ve done on your feature branch will be placed <strong>after</strong> the other
commits on master. It’s kind of like telling git, “pretend I didn’t take 2 weeks to finish my feature, and make it
seem like I started the work today and finished it all in a couple of minutes.”</li>
</ul>

<p><img src="../misc/images/rebase_git_log.png" alt="rebase git log" /></p>

<h3 id="disadvantage">Disadvantage</h3>

<ul>
  <li>Dealing with merge conflicts can be repetitive if your feature branch has lots of commits</li>
  <li>If teammates create a branch off of YOUR branch (and not master), rewriting your git history in this manner will
cause problems combining their work later.</li>
</ul>

<h3 id="whiteboard-diagram-1">Whiteboard diagram</h3>

<h3 id="workflow">Workflow</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># find an awesome repo, fork it to your own GitHub user account, clone that repo:</span>
<span class="nv">$ </span>git clone git@github.com:your_username/some-awesome-repo

<span class="nv">$ </span>git checkout <span class="nt">-b</span> new-branch
<span class="c"># do some work</span>
<span class="nv">$ </span>git add new_file.rb
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"here is my new awesome work"</span>
<span class="c"># pull master from the origin fork and rebase our work</span>
<span class="nv">$ </span>git pull <span class="nt">--rebase</span> origin master

<span class="c"># If you have a merge conflict</span>
<span class="c"># fix any merge conflicts</span>
<span class="nv">$ </span>git rebase <span class="nt">--continue</span>
<span class="nv">$ </span>git add file_name
<span class="c"># continue the cycle of fixing and continue until no more conflicts</span>
<span class="c"># you might have to fix the same merge conflict multiple times</span>

<span class="nv">$ </span>git push origin branch_name
<span class="c"># visit github.com/your_username/some-awesome-repo</span>
<span class="c"># create a pull request</span>
<span class="c"># merge the code</span>

<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git pull origin master
</code></pre></div></div>

<p><strong>Important Notes</strong></p>
<ul>
  <li>Once you run <code class="highlighter-rouge">git --rebase origin master</code> you are in a <strong>rebasing session</strong>. Be careful not to make changes beyond fixing merge conflicts while in this session.</li>
  <li>You can exit a rebase session with <code class="highlighter-rouge">git rebase --abort</code>. This deletes all changes you made during your rebase session and exits the session. You are back to where you started.</li>
</ul>

<p>If you’re not sure if you are in a rebasing session or not, you can run <code class="highlighter-rouge">git status</code>. It will tell you in red <code class="highlighter-rouge">rebase in progress; onto commit#</code>.</p>

<p><img src="../misc/images/rebase_in_progress.png" alt="rebase in progress message" /></p>

<h3 id="to-rebase-or-not-to-rebase">To Rebase or Not to Rebase?</h3>

<p>As a general rule, it works best to rebase regularly while you are working on a feature branch locally and
individually. If anyone else is looking at or using your branch to base their work off of, rebasing is dangerous
because rebasing will rewrite the commit history and possibly create orphan branches. Avoiding complicated rebases means rebasing almost as frequently as you are committing.</p>

<h3 id="workshop">Workshop</h3>
<p>Clone down <a href="https://github.com/turingschool-examples/quilt_shop">quilt_shop</a></p>

<h4 id="whole-group-practice">Whole Group Practice</h4>
<p>This repo has four branches on it.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git branch -a
  remotes/origin/add_fabric_crud
  remotes/origin/add_pattern_crud
  remotes/origin/add_tool_crud
  remotes/origin/master
</code></pre></div></div>

<p><code class="highlighter-rouge">add_tool_crud</code> has already been merged in to <code class="highlighter-rouge">master</code><br />
Let’s rebase <code class="highlighter-rouge">master</code> into the <code class="highlighter-rouge">add_pattern_crud</code> branch</p>

<h4 id="paired-practice">Paired Practice</h4>
<p>Now your turn to rebase <code class="highlighter-rouge">master</code> into the <code class="highlighter-rouge">add_fabric_crud</code> branch</p>

<p>Follow the directions on the README to practice rebasing.</p>

<h3 id="merge-vs-rebase">Merge vs Rebase</h3>

<p>Not every tech company uses the rebase method. Depending on where you work you may use the merge workflow or the rebase workflow. Ultimately it is important to feel comfortable with both approaches.</p>

<h2 id="wrapup">WrapUp</h2>
<ul>
  <li>Compare and contrast merge workflow and rebase workflow
    <ul>
      <li>what are the significant differences</li>
      <li>what are the significant similarities</li>
      <li>what are the pros of each</li>
      <li>what are the cons of each</li>
      <li>what can be tricky about each process</li>
    </ul>
  </li>
</ul>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="./git_like_a_pro">Squashing Commits &amp; Git Aliases</a></li>
  <li><a href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing">Git Book: Merge vs Rebase</a></li>
  <li><a href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing">Atlassian: Merge vs Rebase</a></li>
</ul>
:ET
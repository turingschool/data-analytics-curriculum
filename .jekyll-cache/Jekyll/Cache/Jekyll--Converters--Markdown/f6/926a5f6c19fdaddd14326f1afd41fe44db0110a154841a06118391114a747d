I"∞	<h1 id="advanced-database-topics---views-replication-and-clustering">Advanced Database Topics - Views, Replication and Clustering</h1>

<h2 id="learning-goals">Learning Goals</h2>

<ul>
  <li>Understand the use-cases for some more advanced SQL techniques</li>
  <li>Introduce SQL virtual tables</li>
  <li>Practice creating SQL views from SQL interface and from ActiveRecord
migrations</li>
  <li>Understand SQL logs as a mechanism for sharing state of a database</li>
  <li>Understand mechanics of leader-follower database setup</li>
  <li>Practice configuring master-follower dbs with Postgres on our machines</li>
  <li>Brief discussion of CAP theorem as it relates to multi-server DB
setups</li>
</ul>

<h3 id="section-1---sql-views">Section 1 - SQL Views</h3>

<p>Discussion: Common use-cases for more sophisticated SQL</p>

<ul>
  <li>ActiveRecord is designed to abstract most common SQL techniques from
us (Selects, Joins, foreign-key querying, etc)</li>
  <li>When we see complicated SQL in our Rails code, this is a bit of a
‚Äúsmell‚Äù - we generally want to push SQL logic out of our code</li>
  <li>But SQL is still a powerful tool that we should take advantage of when
needed</li>
  <li>For some problems, SQL really will be the best tool for the job.
Common examples: BI reporting, pre-caching complicated data, flattening an object graph for an API</li>
</ul>

<p>SQL views are one technique we have for taking advantage of more
sophisticated SQL without simply embedding raw query strings in our
code. Let‚Äôs work through this SQL view tutorial to learn more about how
they work: http://tutorials.jumpstartlab.com/topics/sql/sql_views.html</p>

<h3 id="section-2---sql-replication">Section 2 - SQL Replication</h3>

<p>Discussion:</p>

<ul>
  <li>replication use-cases and performance profile</li>
  <li>SQL as a pre-made log format</li>
  <li>Replication delays for master-follwer replication (good and bad)</li>
</ul>

<h3 id="section-3---sql-sharding">Section 3 - SQL Sharding</h3>

<p>Discussion:</p>

<ul>
  <li>sharding use-cases vs. replication use-cases</li>
  <li>mechanisms of sharding</li>
</ul>

<p>Reach goal: setting up postgres replication on a VPS</p>

<p>More reading</p>

<ul>
  <li>http://en.wikipedia.org/wiki/CAP_theorem</li>
  <li>http://aphyr.com/tags/jepsen</li>
  <li>https://devcenter.heroku.com/articles/distributing-reads-to-followers-with-octopus</li>
  <li>http://www.postgresql.org/docs/9.3/static/high-availability.html</li>
</ul>
:ET